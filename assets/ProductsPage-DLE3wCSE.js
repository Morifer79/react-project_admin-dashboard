import{P as y,u as v,j as e,f as W,h as z,b as E,t as C,r as b,c as D,i as V,k as $,s as S,m as _,S as L}from"./index-kUjzZVVH.js";import{u as k,S as g}from"./StyledButton-yEkh6wW-.js";import{M,S as F,a as B,B as I,P as T,F as N,b as J,c as U}from"./Products.styled-DRhs6C53.js";import{c as w,a as d,o as H,I as c,b as j}from"./index.esm-BbrF9sP3.js";import{C as Y}from"./Container-CRH_JBC9.js";import{T as G,a as K,B as Q,S as X,b as Z}from"./OrdersTable.styled-BdyCuBhX.js";import{d as ee,H as se,b as f,F as re}from"./RecentCustomTable.styled-5Q33XAvc.js";import{n as oe}from"./noImg-2kaSk84E.js";const te=w({name:d().trim().required("Name is required field"),category:d().oneOf(["medicine","heart","head","leg","dental-care","skin - care"],"Invalid Job Type").required("Category is required field"),suppliers:d().trim().required("Suppliers is required field"),stock:d().trim().required("Stock is required field"),price:d().trim().required("Price is required field")}),R=({onRequestClose:m})=>{var u,a,p,h,x;const t=v(),{reset:o,register:n,handleSubmit:i,formState:{errors:r}}=k({resolver:H(te)}),s=l=>{t(W(l)),o(),m()};return e.jsxs(M,{children:[e.jsx("h2",{children:"Add a new product"}),e.jsxs(F,{onSubmit:i(s),children:[e.jsxs(c,{children:[e.jsx(j,{...n("name",{autoComplete:"off"}),placeholder:"Product Info",style:{borderColor:r.name&&"#E85050"}}),e.jsx("p",{children:(u=r.name)==null?void 0:u.message})]}),e.jsxs(c,{children:[e.jsxs(B,{...n("category"),style:{borderColor:r.category&&"#E85050"},children:[e.jsx("option",{value:"category",selected:!0,hidden:!0,children:"Category"}),e.jsx("option",{value:"medicine",children:"Medicine"}),e.jsx("option",{value:"heart",children:"Heart"}),e.jsx("option",{value:"head",children:"Head"}),e.jsx("option",{value:"hand",children:"Hand"}),e.jsx("option",{value:"leg",children:"Leg"}),e.jsx("option",{value:"dental-care",children:"Dental Care"}),e.jsx("option",{value:"skin-care",children:"Skin Care"})]}),e.jsx("p",{children:(a=r.category)==null?void 0:a.message})]}),e.jsxs(c,{children:[e.jsx(j,{...n("suppliers",{autoComplete:"off"}),placeholder:"Suppliers",style:{borderColor:r.suppliers&&"#E85050"}}),e.jsx("p",{children:(p=r.suppliers)==null?void 0:p.message})]}),e.jsxs(c,{children:[e.jsx(j,{...n("stock",{autoComplete:"off"}),placeholder:"Stock",style:{borderColor:r.stock&&"#E85050"}}),e.jsx("p",{children:(h=r.stock)==null?void 0:h.message})]}),e.jsxs(c,{children:[e.jsx(j,{...n("price",{autoComplete:"off"}),placeholder:"Price",style:{borderColor:r.price&&"#E85050"}}),e.jsx("p",{children:(x=r.price)==null?void 0:x.message})]}),e.jsxs(I,{children:[e.jsx(g,{prop:"Add",$variant:"add"}),e.jsx(g,{prop:"Cancel",$variant:"cancel",onClick:()=>o()})]})]})]})};R.propTypes={onRequestClose:y.func};const le=w({name:d().trim(),category:d(),suppliers:d().trim(),stock:d().trim(),price:d().trim()}),A=({onRequestClose:m,item:t})=>{var p,h,x,l,P;const o=v(),{reset:n,register:i,handleSubmit:r,formState:{errors:s}}=k({resolver:H(le)}),u=t._id,a=O=>{o(z({id:u,productData:O})),n(),m()};return e.jsxs(M,{children:[e.jsx("h2",{children:"Edit data"}),e.jsxs(F,{onSubmit:r(a),children:[e.jsxs(c,{children:[e.jsx(j,{...i("name",{autoComplete:"off"}),placeholder:"Product Info",style:{borderColor:s.name&&"#E85050"},defaultValue:t.name}),e.jsx("p",{children:(p=s.name)==null?void 0:p.message})]}),e.jsxs(c,{children:[e.jsxs(B,{...i("category"),style:{borderColor:s.category&&"#E85050"},children:[e.jsx("option",{value:t.category,selected:!0,children:t.category}),e.jsx("option",{value:"medicine",children:"Medicine"}),e.jsx("option",{value:"heart",children:"Heart"}),e.jsx("option",{value:"head",children:"Head"}),e.jsx("option",{value:"hand",children:"Hand"}),e.jsx("option",{value:"leg",children:"Leg"}),e.jsx("option",{value:"dental-care",children:"Dental Care"}),e.jsx("option",{value:"skin-care",children:"Skin Care"})]}),e.jsx("p",{children:(h=s.category)==null?void 0:h.message})]}),e.jsxs(c,{children:[e.jsx(j,{...i("suppliers",{autoComplete:"off"}),placeholder:"Suppliers",style:{borderColor:s.suppliers&&"#E85050"},defaultValue:t.suppliers}),e.jsx("p",{children:(x=s.suppliers)==null?void 0:x.message})]}),e.jsxs(c,{children:[e.jsx(j,{...i("stock",{autoComplete:"off"}),placeholder:"Stock",style:{borderColor:s.stock&&"#E85050"},defaultValue:t.stock}),e.jsx("p",{children:(l=s.stock)==null?void 0:l.message})]}),e.jsxs(c,{children:[e.jsx(j,{...i("price",{autoComplete:"off"}),placeholder:"Price",style:{borderColor:s.price&&"#E85050"},defaultValue:t.price}),e.jsx("p",{children:(P=s.price)==null?void 0:P.message})]}),e.jsxs(I,{children:[e.jsx(g,{prop:"Save",$variant:"save"}),e.jsx(g,{prop:"Cancel",$variant:"cancel",onClick:()=>n()})]})]})]})};A.propTypes={onRequestClose:y.func,item:y.any};const q=E.button`
  inline-size: 32px;
  block-size: 32px;
  border-radius: ${C.radii.xl};
  transition: background-color ${C.transition};

  &:is(:hover, :focus) {
    background-color: #e9eb9fe1;
  }

  svg {
    inline-size: 16px;
    block-size: 16px;
  }
`,ne=E.div`
  display: flex;
  align-items: center;
  gap: ${C.spacing(4)};

  button:first-child {
    border: 1px solid #59b17a7f;
  }
  button:last-child {
    border: 1px solid #e850507f;
  }
`,ie=()=>{var x;const[m,t]=b.useState(!1),[o,n]=b.useState(1),i=v(),r=D(ee),s=Math.ceil(r.total/5),u=()=>o===1?void 0:n(o-1),a=()=>o===s?void 0:n(o+1),p=()=>{t(!0),document.body.style.overflow="hidden"},h=()=>{t(!1),document.body.style.overflow=""};return b.useEffect(()=>{i(V({page:o}))},[i,o]),e.jsxs(e.Fragment,{children:[e.jsx(G,{children:e.jsxs(K,{children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx(se,{colSpan:"6",children:"All products"})})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx(f,{children:"Product Info"}),e.jsx(f,{children:"Category"}),e.jsx(f,{children:"Stock"}),e.jsx(f,{children:"Suppliers"}),e.jsx(f,{children:"Price"}),e.jsx(f,{children:"Actions"})]}),(x=r.result)==null?void 0:x.map(l=>e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsxs(re,{children:[e.jsx("img",{src:l.image?l.image:oe,alt:"user"}),e.jsx("span",{children:l.name})]}),e.jsx("td",{children:l.category}),e.jsx("td",{children:l.stock}),e.jsx("td",{children:l.suppliers}),e.jsx("td",{children:l.price}),e.jsx("td",{children:e.jsxs(ne,{children:[e.jsx($,{content:"Click to edit",trigger:"hover",children:e.jsx(q,{onClick:p,children:e.jsx("svg",{children:e.jsx("use",{href:`${S}#icon-edit`})})})}),e.jsx($,{content:"You`re about to delete an item!",title:"Caution!",trigger:"hover",children:e.jsx(q,{onClick:()=>i(_(l._id)),children:e.jsx("svg",{children:e.jsx("use",{href:`${S}#icon-trash`})})})})]})})]},l._id),e.jsx(T,{isOpen:m,onRequestClose:h,children:e.jsx(A,{onRequestClose:h,item:l})})]}))]})]})}),e.jsxs(Q,{children:[e.jsx("button",{type:"button",onClick:u,disabled:o===1,children:"ðŸ”¼"}),e.jsxs("p",{children:[e.jsx("span",{children:o})," / ",s]}),e.jsx("button",{type:"button",onClick:a,disabled:o===s,children:"ðŸ”½"})]})]})},de=()=>{const[m,t]=b.useState(!1),o=window.innerWidth,{reset:n,register:i,handleSubmit:r}=k({mode:"onBlur"}),s=p=>{console.log(p),n()},u=()=>{t(!0),document.body.style.overflow="hidden"},a=()=>{t(!1),document.body.style.overflow=""};return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{children:[o>1439&&e.jsx(L,{}),e.jsxs(N,{children:[e.jsxs(X,{onSubmit:r(s),children:[e.jsx(Z,{...i("filter",{autoComplete:"off"}),placeholder:"Product Name"}),e.jsx(g,{prop:"Filter",$variant:"filter"})]}),e.jsxs(J,{children:[e.jsx(U,{onClick:u,children:e.jsx("svg",{children:e.jsx("use",{href:`${S}#icon-plus`})})}),e.jsx("span",{children:"Add a new product"})]})]}),e.jsx(ie,{})]}),e.jsx(T,{isOpen:m,onRequestClose:a,children:e.jsx(R,{onRequestClose:a})})]})};function fe(){return e.jsx(de,{})}export{fe as default};
