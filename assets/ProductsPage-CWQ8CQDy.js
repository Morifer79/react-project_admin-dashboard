import{P as S,u as y,j as e,f as z,h as D,b as B,t as v,r as b,c as V,i as k,k as q,s as P,m as _,S as L}from"./index-BFKTnyKH.js";import{u as $,S as C}from"./StyledButton-BC72yoDM.js";import{M,S as F,a as I,B as T,P as w,F as N,b as J,c as U}from"./Products.styled-ByXNmj5m.js";import{c as H,a as d,o as R,I as p,b as j}from"./index.esm-w_0ugSvZ.js";import{C as Y}from"./Container-BAx815Hy.js";import{T as G,a as K,B as Q,S as X,b as Z}from"./OrdersTable.styled-BWwWrM26.js";import{d as ee,H as se,b as f,F as re}from"./RecentCustomTable.styled-CBTHR3j_.js";import{n as oe}from"./noImg-2kaSk84E.js";const te=H({name:d().trim().required("Name is required field"),category:d().oneOf(["medicine","heart","head","leg","dental-care","skin - care"],"Invalid Job Type").required("Category is required field"),suppliers:d().trim().required("Suppliers is required field"),stock:d().trim().required("Stock is required field"),price:d().trim().required("Price is required field")}),A=({onRequestClose:m})=>{var h,x,u,c,a;const n=y(),{reset:o,register:l,handleSubmit:i,formState:{errors:t}}=$({resolver:R(te)}),s=r=>{n(z(r)),o(),m()};return e.jsxs(M,{children:[e.jsx("h2",{children:"Add a new product"}),e.jsxs(F,{onSubmit:i(s),children:[e.jsxs(p,{children:[e.jsx(j,{...l("name",{autoComplete:"off"}),placeholder:"Product Info",style:{borderColor:t.name&&"#E85050"}}),e.jsx("p",{children:(h=t.name)==null?void 0:h.message})]}),e.jsxs(p,{children:[e.jsxs(I,{...l("category"),style:{borderColor:t.category&&"#E85050"},children:[e.jsx("option",{value:"category",selected:!0,hidden:!0,children:"Category"}),e.jsx("option",{value:"medicine",children:"Medicine"}),e.jsx("option",{value:"heart",children:"Heart"}),e.jsx("option",{value:"head",children:"Head"}),e.jsx("option",{value:"hand",children:"Hand"}),e.jsx("option",{value:"leg",children:"Leg"}),e.jsx("option",{value:"dental-care",children:"Dental Care"}),e.jsx("option",{value:"skin-care",children:"Skin Care"})]}),e.jsx("p",{children:(x=t.category)==null?void 0:x.message})]}),e.jsxs(p,{children:[e.jsx(j,{...l("suppliers",{autoComplete:"off"}),placeholder:"Suppliers",style:{borderColor:t.suppliers&&"#E85050"}}),e.jsx("p",{children:(u=t.suppliers)==null?void 0:u.message})]}),e.jsxs(p,{children:[e.jsx(j,{...l("stock",{autoComplete:"off"}),placeholder:"Stock",style:{borderColor:t.stock&&"#E85050"}}),e.jsx("p",{children:(c=t.stock)==null?void 0:c.message})]}),e.jsxs(p,{children:[e.jsx(j,{...l("price",{autoComplete:"off"}),placeholder:"Price",style:{borderColor:t.price&&"#E85050"}}),e.jsx("p",{children:(a=t.price)==null?void 0:a.message})]}),e.jsxs(T,{children:[e.jsx(C,{prop:"Add",$variant:"add"}),e.jsx(C,{prop:"Cancel",$variant:"cancel",onClick:()=>o()})]})]})]})};A.propTypes={onRequestClose:S.func};const ne=H({name:d().trim(),category:d(),suppliers:d().trim(),stock:d().trim(),price:d().trim()}),O=({onRequestClose:m,item:n})=>{var u,c,a,r,g;const o=y(),{reset:l,register:i,handleSubmit:t,formState:{errors:s}}=$({resolver:R(ne)}),h=n._id,x=W=>{o(D({id:h,productData:W})),l(),m()};return e.jsxs(M,{children:[e.jsx("h2",{children:"Edit data"}),e.jsxs(F,{onSubmit:t(x),children:[e.jsxs(p,{children:[e.jsx(j,{...i("name",{autoComplete:"off"}),placeholder:"Product Info",style:{borderColor:s.name&&"#E85050"},defaultValue:n.name}),e.jsx("p",{children:(u=s.name)==null?void 0:u.message})]}),e.jsxs(p,{children:[e.jsxs(I,{...i("category"),style:{borderColor:s.category&&"#E85050"},children:[e.jsx("option",{value:n.category,selected:!0,children:n.category}),e.jsx("option",{value:"medicine",children:"Medicine"}),e.jsx("option",{value:"heart",children:"Heart"}),e.jsx("option",{value:"head",children:"Head"}),e.jsx("option",{value:"hand",children:"Hand"}),e.jsx("option",{value:"leg",children:"Leg"}),e.jsx("option",{value:"dental-care",children:"Dental Care"}),e.jsx("option",{value:"skin-care",children:"Skin Care"})]}),e.jsx("p",{children:(c=s.category)==null?void 0:c.message})]}),e.jsxs(p,{children:[e.jsx(j,{...i("suppliers",{autoComplete:"off"}),placeholder:"Suppliers",style:{borderColor:s.suppliers&&"#E85050"},defaultValue:n.suppliers}),e.jsx("p",{children:(a=s.suppliers)==null?void 0:a.message})]}),e.jsxs(p,{children:[e.jsx(j,{...i("stock",{autoComplete:"off"}),placeholder:"Stock",style:{borderColor:s.stock&&"#E85050"},defaultValue:n.stock}),e.jsx("p",{children:(r=s.stock)==null?void 0:r.message})]}),e.jsxs(p,{children:[e.jsx(j,{...i("price",{autoComplete:"off"}),placeholder:"Price",style:{borderColor:s.price&&"#E85050"},defaultValue:n.price}),e.jsx("p",{children:(g=s.price)==null?void 0:g.message})]}),e.jsxs(T,{children:[e.jsx(C,{prop:"Save",$variant:"save"}),e.jsx(C,{prop:"Cancel",$variant:"cancel",onClick:()=>l()})]})]})]})};O.propTypes={onRequestClose:S.func,item:S.any};const E=B.button`
  inline-size: 32px;
  block-size: 32px;
  border-radius: ${v.radii.xl};
  transition: background-color ${v.transition};

  &:is(:hover, :focus) {
    background-color: #e9eb9fe1;
  }

  svg {
    inline-size: 16px;
    block-size: 16px;
  }
`,le=B.div`
  display: flex;
  align-items: center;
  gap: ${v.spacing(4)};

  button:first-child {
    border: 1px solid #59b17a7f;
  }
  button:last-child {
    border: 1px solid #e850507f;
  }
`,ie=()=>{var a;const[m,n]=b.useState(!1),[o,l]=b.useState(1),i=y(),t=V(ee),s=Math.ceil(t.total/5),h=()=>o===1?void 0:l(o-1),x=()=>o===s?void 0:l(o+1),u=()=>{n(!0),document.body.style.overflow="hidden"},c=()=>{n(!1),document.body.style.overflow=""};return b.useEffect(()=>{i(k({page:o}))},[i,o]),e.jsxs(e.Fragment,{children:[e.jsx(G,{children:e.jsxs(K,{children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx(se,{colSpan:"6",children:"All products"})})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx(f,{children:"Product Info"}),e.jsx(f,{children:"Category"}),e.jsx(f,{children:"Stock"}),e.jsx(f,{children:"Suppliers"}),e.jsx(f,{children:"Price"}),e.jsx(f,{children:"Actions"})]}),(a=t.result)==null?void 0:a.map(r=>e.jsxs(e.Fragment,{children:[e.jsxs("tr",{children:[e.jsxs(re,{children:[e.jsx("img",{src:r.image?r.image:oe,alt:"user"}),e.jsx("span",{children:r.name})]}),e.jsx("td",{children:r.category}),e.jsx("td",{children:r.stock}),e.jsx("td",{children:r.suppliers}),e.jsx("td",{children:r.price}),e.jsx("td",{children:e.jsxs(le,{children:[e.jsx(q,{content:"Click to edit",trigger:"hover",children:e.jsx(E,{onClick:u,children:e.jsx("svg",{children:e.jsx("use",{href:`${P}#icon-edit`})})})}),e.jsx(q,{content:"You`re about to delete an item!",title:"Caution!",trigger:"hover",children:e.jsx(E,{onClick:()=>i(_(r._id)),children:e.jsx("svg",{children:e.jsx("use",{href:`${P}#icon-trash`})})})})]})})]},r._id),e.jsx(w,{isOpen:m,onRequestClose:c,children:e.jsx(O,{onRequestClose:c,item:r})})]}))]})]})}),e.jsxs(Q,{children:[e.jsx("button",{type:"button",onClick:h,disabled:o===1,children:"ðŸ”¼"}),e.jsxs("p",{children:[e.jsx("span",{children:o})," / ",s]}),e.jsx("button",{type:"button",onClick:x,disabled:o===s,children:"ðŸ”½"})]})]})},ce=()=>{const[m,n]=b.useState(!1),[o,l]=b.useState(!1),i=y(),t=window.innerWidth,{reset:s,register:h,handleSubmit:x}=$({mode:"onBlur"}),u=g=>{if(o){l(!1),i(k(g)),s();return}l(!0),i(k(g)),s()},c=()=>{l(!1)},a=()=>{n(!0),document.body.style.overflow="hidden"},r=()=>{n(!1),document.body.style.overflow=""};return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{children:[t>1439&&e.jsx(L,{}),e.jsxs(N,{children:[e.jsxs(X,{onSubmit:x(u),children:[e.jsx(Z,{...h("name",{autoComplete:"off"}),placeholder:"Product Name",onClick:c}),e.jsx(C,{prop:o?"Reset":"Filter",$variant:"filter"})]}),e.jsxs(J,{children:[e.jsx(U,{onClick:a,children:e.jsx("svg",{children:e.jsx("use",{href:`${P}#icon-plus`})})}),e.jsx("span",{children:"Add a new product"})]})]}),e.jsx(ie,{})]}),e.jsx(w,{isOpen:m,onRequestClose:r,children:e.jsx(A,{onRequestClose:r})})]})};function fe(){return e.jsx(ce,{})}export{fe as default};
