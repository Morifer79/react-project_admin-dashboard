import{P as k,u as v,j as e,f as W,h as z,b as I,t as P,r as b,c as _,i as E,k as M,s as B,m as N,S as J}from"./index-BecnCk4R.js";import{u as $,S as g}from"./StyledButton-Dg837hBu.js";import{M as H,S as F,a as O,B as T,P as V,F as U,b as Y,c as G}from"./Products.styled-DFK5NlLT.js";import{c as w,a as y,e as S,o as R,I as d,b as f}from"./index.esm-C9wJNvv_.js";import{C as K}from"./Container-DxY_WlpR.js";import{T as L,a as Q,B as X,S as Z,b as ee}from"./OrdersTable.styled-C6VxBDRT.js";import{d as se,H as re,b as C,F as oe}from"./RecentCustomTable.styled-qXBWhDLD.js";import{n as te}from"./noImg-BC9aJGxj.js";const ne=w({name:y().trim().required("Name is required field"),category:y().oneOf(["Medicine","Head","Hand","Dental Care","Skin Care","Eye Care","Vitamins & Supplements","Orthopedic Products","Baby Care"],"Invalid Job Type").required("Category is required field"),suppliers:y().trim().required("Suppliers is required field"),stock:S().required("Stock is required field"),price:S().required("Price is required field")}),A=({onRequestClose:j})=>{var p,i,u,h,x;const t=v(),{reset:c,register:n,handleSubmit:s,formState:{errors:o}}=$({resolver:R(ne)}),r=a=>{t(W(a)),c(),j()};return e.jsxs(H,{children:[e.jsx("h2",{children:"Add a new product"}),e.jsxs(F,{onSubmit:s(r),children:[e.jsxs(d,{children:[e.jsx(f,{...n("name",{autoComplete:"off"}),placeholder:"Product Info",style:{borderColor:o.name&&"#E85050"}}),e.jsx("p",{children:(p=o.name)==null?void 0:p.message})]}),e.jsxs(d,{children:[e.jsxs(O,{...n("category"),style:{borderColor:o.category&&"#E85050"},children:[e.jsx("option",{defaultValue:"Category",hidden:!0,children:"Category"}),e.jsx("option",{value:"Medicine",children:"Medicine"}),e.jsx("option",{value:"Head",children:"Head"}),e.jsx("option",{value:"Hand",children:"Hand"}),e.jsx("option",{value:"Dental Care",children:"Dental Care"}),e.jsx("option",{value:"Skin Care",children:"Skin Care"}),e.jsx("option",{value:"Eye Care",children:"Eye Care"}),e.jsx("option",{value:"Vitamins & Supplements",children:"Vitamins & Supplements"}),e.jsx("option",{value:"Orthopedic Products",children:"Orthopedic Products"}),e.jsx("option",{value:"Baby Care",children:"Baby Care"})]}),e.jsx("p",{children:(i=o.category)==null?void 0:i.message})]}),e.jsxs(d,{children:[e.jsx(f,{...n("suppliers",{autoComplete:"off"}),placeholder:"Suppliers",style:{borderColor:o.suppliers&&"#E85050"}}),e.jsx("p",{children:(u=o.suppliers)==null?void 0:u.message})]}),e.jsxs(d,{children:[e.jsx(f,{...n("stock",{autoComplete:"off"}),placeholder:"Stock",style:{borderColor:o.stock&&"#E85050"}}),e.jsx("p",{children:(h=o.stock)==null?void 0:h.message})]}),e.jsxs(d,{children:[e.jsx(f,{...n("price",{autoComplete:"off"}),placeholder:"Price",style:{borderColor:o.price&&"#E85050"}}),e.jsx("p",{children:(x=o.price)==null?void 0:x.message})]}),e.jsxs(T,{children:[e.jsx(g,{prop:"Add",$variant:"add"}),e.jsx(g,{prop:"Cancel",$variant:"cancel",onClick:()=>c()})]})]})]})};A.propTypes={onRequestClose:k.func};const le=w({name:y().trim(),category:y(),suppliers:y().trim(),stock:S(),price:S()}),D=({onRequestClose:j,item:t})=>{var u,h,x,a,m;const c=v(),{reset:n,register:s,handleSubmit:o,formState:{errors:r}}=$({resolver:R(le)}),p=t._id,i=l=>{c(z({id:p,productData:l})),n(),j()};return e.jsxs(H,{children:[e.jsx("h2",{children:"Edit data"}),e.jsxs(F,{onSubmit:o(i),children:[e.jsxs(d,{children:[e.jsx(f,{...s("name",{autoComplete:"off"}),placeholder:"Product Info",style:{borderColor:r.name&&"#E85050"},defaultValue:t.name}),e.jsx("p",{children:(u=r.name)==null?void 0:u.message})]}),e.jsxs(d,{children:[e.jsxs(O,{...s("category"),style:{borderColor:r.category&&"#E85050"},children:[e.jsx("option",{defaultValue:t.category,children:t.category}),e.jsx("option",{value:"Medicine",children:"Medicine"}),e.jsx("option",{value:"Head",children:"Head"}),e.jsx("option",{value:"Hand",children:"Hand"}),e.jsx("option",{value:"Dental Care",children:"Dental Care"}),e.jsx("option",{value:"Skin Care",children:"Skin Care"}),e.jsx("option",{value:"Eye Care",children:"Eye Care"}),e.jsx("option",{value:"Vitamins & Supplements",children:"Vitamins & Supplements"}),e.jsx("option",{value:"Orthopedic Products",children:"Orthopedic Products"}),e.jsx("option",{value:"Baby Care",children:"Baby Care"})]}),e.jsx("p",{children:(h=r.category)==null?void 0:h.message})]}),e.jsxs(d,{children:[e.jsx(f,{...s("suppliers",{autoComplete:"off"}),placeholder:"Suppliers",style:{borderColor:r.suppliers&&"#E85050"},defaultValue:t.suppliers}),e.jsx("p",{children:(x=r.suppliers)==null?void 0:x.message})]}),e.jsxs(d,{children:[e.jsx(f,{...s("stock",{autoComplete:"off"}),placeholder:"Stock",style:{borderColor:r.stock&&"#E85050"},defaultValue:t.stock}),e.jsx("p",{children:(a=r.stock)==null?void 0:a.message})]}),e.jsxs(d,{children:[e.jsx(f,{...s("price",{autoComplete:"off"}),placeholder:"Price",style:{borderColor:r.price&&"#E85050"},defaultValue:t.price}),e.jsx("p",{children:(m=r.price)==null?void 0:m.message})]}),e.jsxs(T,{children:[e.jsx(g,{prop:"Save",$variant:"save"}),e.jsx(g,{prop:"Cancel",$variant:"cancel",onClick:()=>n()})]})]})]})};D.propTypes={onRequestClose:k.func,item:k.any};const q=I.button`
  inline-size: 32px;
  block-size: 32px;
  border-radius: ${P.radii.xl};
  transition: background-color ${P.transition};

  &:is(:hover, :focus) {
    background-color: #e9eb9fe1;
  }

  svg {
    inline-size: 16px;
    block-size: 16px;
  }
`,ie=I.div`
  display: flex;
  align-items: center;
  gap: ${P.spacing(4)};

  button:first-child {
    border: 1px solid #59b17a7f;
  }
  button:last-child {
    border: 1px solid #e850507f;
  }
`,ae=()=>{var m;const[j,t]=b.useState(!1),[c,n]=b.useState(null),[s,o]=b.useState(1),r=v(),p=_(se),i=Math.ceil(p.total/5),u=()=>s===1?void 0:o(s-1),h=()=>s===i?void 0:o(s+1),x=l=>{t(!0),n(l),document.body.style.overflow="hidden"},a=()=>{t(!1),document.body.style.overflow=""};return b.useEffect(()=>{r(E({page:s}))},[r,s]),e.jsxs(e.Fragment,{children:[e.jsx(L,{children:e.jsxs(Q,{children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx(re,{colSpan:"6",children:"All products"})})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx(C,{children:"Product Info"}),e.jsx(C,{children:"Category"}),e.jsx(C,{children:"Stock"}),e.jsx(C,{children:"Suppliers"}),e.jsx(C,{children:"Price"}),e.jsx(C,{children:"Actions"})]}),(m=p.result)==null?void 0:m.map(l=>e.jsxs("tr",{children:[e.jsxs(oe,{children:[e.jsx("img",{src:l.image?l.image:te,alt:"user"}),e.jsx("span",{children:l.name})]}),e.jsx("td",{children:l.category}),e.jsx("td",{children:l.stock}),e.jsx("td",{children:l.suppliers}),e.jsx("td",{children:l.price}),e.jsx("td",{children:e.jsxs(ie,{children:[e.jsx(M,{content:"Click to edit",trigger:"hover",children:e.jsx(q,{onClick:()=>x(l),children:e.jsx("svg",{children:e.jsx("use",{href:`${B}#icon-edit`})})})}),e.jsx(M,{content:"You`re about to delete an item!",title:"Caution!",trigger:"hover",children:e.jsx(q,{onClick:()=>r(N(l._id)),children:e.jsx("svg",{children:e.jsx("use",{href:`${B}#icon-trash`})})})})]})})]},l._id))]})]})}),e.jsxs(X,{children:[e.jsx("button",{type:"button",onClick:u,disabled:s===1,children:"ðŸ”¼"}),e.jsxs("p",{children:[e.jsx("span",{children:s})," / ",i]}),e.jsx("button",{type:"button",onClick:h,disabled:s===i,children:"ðŸ”½"})]}),j&&e.jsx(V,{isOpen:j,onRequestClose:a,children:e.jsx(D,{onRequestClose:a,item:c})})]})},de=()=>{const[j,t]=b.useState(!1),[c,n]=b.useState(!1),s=v(),o=window.innerWidth,{reset:r,register:p,handleSubmit:i}=$({mode:"onBlur"}),u=m=>{if(c){n(!1),s(E(m)),r();return}n(!0),s(E(m)),r()},h=()=>{n(!1)},x=()=>{t(!0),document.body.style.overflow="hidden"},a=()=>{t(!1),document.body.style.overflow=""};return e.jsxs(e.Fragment,{children:[e.jsxs(K,{children:[o>1439&&e.jsx(J,{}),e.jsxs(U,{children:[e.jsxs(Z,{onSubmit:i(u),children:[e.jsx(ee,{...p("name",{autoComplete:"off"}),placeholder:"Product Name",onClick:h}),e.jsx(g,{prop:c?"Reset":"Filter",$variant:"filter"})]}),e.jsxs(Y,{children:[e.jsx(G,{onClick:x,children:e.jsx("svg",{children:e.jsx("use",{href:`${B}#icon-plus`})})}),e.jsx("span",{children:"Add a new product"})]})]}),e.jsx(ae,{})]}),e.jsx(V,{isOpen:j,onRequestClose:a,children:e.jsx(A,{onRequestClose:a})})]})};function Ce(){return e.jsx(de,{})}export{Ce as default};
